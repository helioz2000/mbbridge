// measure configuration file

// This value determines the granularity of the measuring system
mainloopinterval = 250;     // [ms]

// MQTT parameters
mqtt = {
    broker = "127.0.0.2";
};

// read and publish cpu temperature
cputemp = {
    topic = "ham/vk2ray/site/raylog/cpu/temp";
    readinterval = 5;
    publishinterval = 5;
};

// Modbus RTU
modbusrtu = {
	device = "/dev/ttyUSB0";
	baudrate = 1200;
};

// Updatecycles definition
updatecycles = (
	{
	id = 1;
	interval = 10;	// seconds
	},
	{
	id = 2;
	interval = 20;
	}
	{
	id = 3;
	interval = 30;
	}
	{
	id = 6;
	interval = 60;
	}
	{
	id = 12;
	interval = 120;		// 2 minutes
	}
	{
	id = 30
	interval = 300;		// 5 minutes
	}
	{
	id = 60;
	interval = 600;		// 10 minutes
	}
	{
	id = 180;
	interval = 1800;	// 30 minutes
	}
)

// Modbus Slaves
mbslaves = (
	{
	name = "Test board";
	id = 30;
	enabled = TRUE;
	tags = 
		(
			{
			address = 100;
			update_cycle = 10;		// as per "updatecycles" configuration
			},
			{
			address = 101;
			update_cycle = 30;
			}
		)
	},
	{
	name = "No board"
	id = 31;
	enabled = 0;
	tags = 
		(
		);
	}
)
